import { scrapeFilesForContainerImages } from './scrape'

it('scrapeFilesForContainerImages', async () => {
  await expect(scrapeFilesForContainerImages([])).resolves.toEqual([])
  await expect(scrapeFilesForContainerImages(['test.yaml'])).resolves.toEqual([
    {
      file: 'test.yaml',
      containerImages: ['alpine:3.14', 'alpine:3.15'],
    },
  ])
  await expect(scrapeFilesForContainerImages(['missing.yaml', 'test.yaml'])).resolves.toEqual([
    {
      file: 'test.yaml',
      containerImages: ['alpine:3.14', 'alpine:3.15'],
    },
  ])
})
