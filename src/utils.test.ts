import { extractTasksFromIssueBody, closeAllTasksInIssueBody } from './utils'

it('extractTasksFromIssueBody', () => {
  expect(extractTasksFromIssueBody('')).toEqual([])
  expect(extractTasksFromIssueBody('- [ ] A')).toEqual([{ label: 'A', done: false }])
  expect(extractTasksFromIssueBody('- [x] A')).toEqual([{ label: 'A', done: true }])
  expect(extractTasksFromIssueBody('- [ ] A\n- [x] B\n')).toEqual([
    { label: 'A', done: false },
    { label: 'B', done: true },
  ])
})

it('closeAllTasksInIssueBody', () => {
  expect(closeAllTasksInIssueBody('')).toEqual('')
  expect(closeAllTasksInIssueBody('- [ ] A')).toEqual('- [x] A')
  expect(closeAllTasksInIssueBody('- [x] A')).toEqual('- [x] A')
  expect(closeAllTasksInIssueBody('- [ ] A\n- [x] B\n')).toEqual('- [x] A\n- [x] B\n')
})
